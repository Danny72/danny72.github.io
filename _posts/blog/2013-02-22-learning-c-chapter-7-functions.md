---
title: 'Learning C: Chapter 7 &#8211; Functions'
author: Daniel
layout: post
permalink: /learning-c-chapter-7-functions/
categories:
  - code
tags:
  - arrays
  - c
---
In C as functions go through the main() method. This is the entry point and exit point of the program. The standard function in C is as follows: <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    return_type function_name<span class="br0">&#40;</span>parameters<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">//header</span><br /> &nbsp; code &nbsp;<span class="co1">//function body</span><br /> &nbsp; <span class="kw1">return</span><br /> <span class="br0">&#125;</span>
  </div>
</div> If a function won&#8217;t return a value, its return type is void. This means the function can&#8217;t be used as an expression. If the function doesn&#8217;t have any parameters, void is also used to indicate that. You don&#8217;t have to specify a return type, and C will default to using a return type of 

**int** if you don&#8217;t. It&#8217;s considered best practice to always specify the return type though. **Function Prototypes** It&#8217;s considered best practice in C to write your main function first, with all other functions coming after it. As any functions called in main() won&#8217;t have been declared yet, the C compiler will implicitly declare them as functions which return int. This means if you don&#8217;t use the correct number of arguments, or pass the wrong types to the function, the compiler won&#8217;t catch it and you&#8217;ll get unpredictable results. The compiler will also promote certain types (shorts to ints, and floats to doubles) if the function hasn&#8217;t yet been declared. Again this won&#8217;t be caught and can cause problems. For all these reasons, for any function declared after the main that will be implicitly declared, you need to use a function prototype. Here&#8217;s an factorial example from [wikipedia][1] <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="kw4">int</span> fac<span class="br0">&#40;</span><span class="kw4">int</span> n<span class="br0">&#41;</span><span class="sy0">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">//Prototype</span><br /> &nbsp;<br /> <span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /> &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%dn"</span><span class="sy0">,</span> fac<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> &nbsp; <span class="co1">//Implicit declaration</span><br /> &nbsp; <span class="kw1">return</span> <span class="nu0"></span><span class="sy0">;</span><br /> <span class="br0">&#125;</span><br /> &nbsp;<br /> <span class="kw4">int</span> fac<span class="br0">&#40;</span><span class="kw4">int</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /> &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>n <span class="sy0">==</span> <span class="nu0"></span><span class="br0">&#41;</span> <br /> &nbsp; <span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span><br /> <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span><br /> &nbsp; <span class="kw1">return</span> n <span class="sy0">*</span> fac<span class="br0">&#40;</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="br0">&#125;</span>
  </div>
</div> If the prototype were omitted in this example, the compiler wouldn&#8217;t raise an error on fac() with no arguments. It would be implicitly declared as a function call that returns a int, and the compiler would make no assumptions about any arguments the functions requires. Without arguments, the compiler won&#8217;t object and the function expecting some arguments will take whatever is on the top of the stack and use it, leading to unpredictable results. The prototype declaration is simply the header of the function, without the body. 

**Passing Arrays** C is a call-by-value language, **except** when passing arrays. Arrays are passed via reference in C and any changes made to them by a function won&#8217;t just be in that functions scope. This also means you can&#8217;t use sizeof() to work out the length of an array, as you only have a reference. To get around this either pass the length of the array as a parameter to the function, or use a known element as a terminator in the array. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="kw4">void</span> display_arr<span class="br0">&#40;</span><span class="kw4">int</span> arr<span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">,</span> <span class="kw4">int</span> SIZE<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> <span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br /> &nbsp; <span class="kw4">int</span> arr<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span><span class="nu0">57</span><span class="sy0">,</span><span class="nu0">67</span><span class="sy0">,</span><span class="nu0">77</span><span class="br0">&#125;</span><span class="sy0">;</span><br /> &nbsp; <span class="kw4">int</span> SIZE <span class="sy0">=</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span>arr<span class="br0">&#41;</span><span class="sy0">/</span><span class="kw4">sizeof</span><span class="br0">&#40;</span><span class="kw4">int</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> &nbsp; display_arr<span class="br0">&#40;</span>arr<span class="sy0">,</span>SIZE<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span>i<span class="sy0">=</span><span class="nu0"></span><span class="sy0">;</span>i<span class="sy0"><</span>SIZE<span class="sy0">;</span>i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%d: %dn"</span><span class="sy0">,</span>i<span class="sy0">,</span>arr<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> &nbsp; <span class="br0">&#125;</span><br /> &nbsp; <span class="kw1">return</span> <span class="nu0"></span><span class="sy0">;</span><br /> <span class="br0">&#125;</span><br /> <br /> <span class="kw4">void</span> display_arr<span class="br0">&#40;</span><span class="kw4">int</span> arr<span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">,</span> <span class="kw4">int</span> SIZE<span class="br0">&#41;</span> <span class="br0">&#123;</span><br /> &nbsp; <span class="kw4">int</span> i<span class="sy0">;</span><br /> &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span>i<span class="sy0">=</span><span class="nu0"></span><span class="sy0">;</span>i<span class="sy0"><</span>SIZE<span class="sy0">;</span>i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br /> &nbsp; &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%d: %dn"</span><span class="sy0">,</span>i<span class="sy0">,</span>arr<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="sy0">++</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> &nbsp; <span class="br0">&#125;</span><br /> <span class="br0">&#125;</span>
  </div>
</div>

<div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    Output<span class="sy0">:</span><br /> <br /> <span class="nu0"></span><span class="sy0">:</span> <span class="nu0">57</span><br /> <span class="nu0">1</span><span class="sy0">:</span> <span class="nu0">67</span><br /> <span class="nu0">2</span><span class="sy0">:</span> <span class="nu0">77</span><br /> <span class="nu0"></span><span class="sy0">:</span> <span class="nu0">58</span><br /> <span class="nu0">1</span><span class="sy0">:</span> <span class="nu0">68</span><br /> <span class="nu0">2</span><span class="sy0">:</span> <span class="nu0">78</span>
  </div>
</div> When main() prints the values of arr[] after the call to display\_arr(), the values of arr[] have been incremented by the reference to arr[] in display\_arr(). I&#8217;m using 

[Big Al&#8217;s C: Standard C][2] to learn C and write these posts.

 [1]: http://en.wikipedia.org/wiki/Function_prototype#Uses "wikipedia"
 [2]: http://www.amazon.com/Big-Als-Standard-ebook/dp/B00A4JGE0M