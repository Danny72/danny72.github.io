---
title: 'Learning C: Chapter 8 &#8211; Pointers'
author: Daniel
layout: post
permalink: /learning-c-chapter-8-pointers/
categories:
  - code
tags:
  - c
  - pointers
---
A pointer is simply a variable that holds the address in memory of another variable. You can easily find the memory address of a variable by using the unary operator **&** on a variable. If you want to display a memory address, **%p** is the format specifier. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">50</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"i contains %d and is stored at mem address %p"</span><span class="sy0">,</span> i<span class="sy0">,</span> <span class="sy0">&</span>i<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> i contains <span class="nu0">50</span> and is stored at mem address <span class="nu12">0xbec3941c</span>
  </div>
</div> When declaring a pointer, you need to use the * symbol prefixed to the variable name. This tells the compiler it&#8217;s a pointer variable. You still declare the type as normal, as a pointer can only point to a variable of the same type. 

<div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">int</span> i<span class="sy0">,</span> <span class="sy0">*</span>j<span class="sy0">;</span><br /> <span class="sy0">></span> j <span class="sy0">=</span> <span class="sy0">&</span>i<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"The val of j is %pn"</span><span class="sy0">,</span>j<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"The address of i is %pn"</span><span class="sy0">,&</span>i<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> The val of j is <span class="nu12">0xbe9e1418</span><br /> The address of i is <span class="nu12">0xbe9e1418</span>
  </div>
</div> Notice that we haven&#8217;t initialized i with a value, but simply pointed j at the memory address of i. The * symbol is also used as a 

**dereference** operator. When used on a pointer, it will dereference that pointer, and yield the value stored at the memory address the pointer holds. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">int</span> i<span class="sy0">,</span> <span class="sy0">*</span>j<span class="sy0">;</span><br /> <span class="sy0">></span> i <span class="sy0">=</span> <span class="nu0">50</span><span class="sy0">;</span><br /> <span class="sy0">></span> j <span class="sy0">=</span> <span class="sy0">&</span>i<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"Pointer dereferenced is %dn"</span><span class="sy0">,</span> <span class="sy0">*</span>j<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"Pointer mem address is %pn"</span><span class="sy0">,</span> j<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <span class="sy0">*</span>j <span class="sy0">=</span> <span class="nu0">250</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"i value is now %dn"</span><span class="sy0">,</span>i<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <span class="sy0">*</span>j <span class="sy0">=</span> <span class="nu0">500</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"i value is now %dn"</span><span class="sy0">,</span>i<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> Pointer dereferenced is <span class="nu0">50</span><br /> Pointer mem address is <span class="nu12">0xbec6a418</span><br /> i value is now <span class="nu0">250</span><br /> i value is now <span class="nu0">500</span>
  </div>
</div> When j points to i, the dereferenced pointer j and i will both hold the same value. As well as changing the r-value of the pointed at variable through dereferencing the pointer, you can also change the pointer address. This is often done by mistake by either not using the *, or by getting the operator order wrong. Consider using the ++ operator to increment a variable through a pointer. Using the example 

***pointer++**, the ++ operator would be applied first. This would result in the address being incremented, and not the value. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;height:-1px;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">int</span> <span class="sy0">*</span>p1<span class="sy0">,</span> <span class="sy0">*</span>p2<span class="sy0">;</span><br /> <span class="sy0">></span> <span class="kw4">int</span> val <span class="sy0">=</span> <span class="nu0"></span><span class="sy0">;</span><br /> <br /> <span class="sy0">></span> p1 <span class="sy0">=</span> <span class="sy0">&</span>val<span class="sy0">;</span><br /> <span class="sy0">></span> p2 <span class="sy0">=</span> <span class="sy0">&</span>val<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <span class="kw1">while</span> <span class="br0">&#40;</span><span class="sy0">*</span>p2 <span class="sy0"><</span> <span class="nu0">5</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br /> <span class="sy0">></span> &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%15d t %pn"</span><span class="sy0">,*</span><span class="br0">&#40;</span>p1<span class="sy0">++</span><span class="br0">&#41;</span><span class="sy0">,</span> p1<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%15d t %pn"</span><span class="sy0">,</span><span class="br0">&#40;</span><span class="sy0">*</span>p2<span class="br0">&#41;</span><span class="sy0">++,</span> p2<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> &nbsp; <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"n"</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <span class="br0">&#125;</span><br /> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0"></span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef00410</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0"></span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0040c</span><br /> <br /> &nbsp; &nbsp; <span class="sy0">-</span><span class="nu0">1091566572</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef00414</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0040c</span><br /> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">802</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef00418</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">2</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0040c</span><br /> <br /> &nbsp; &nbsp; <span class="sy0">-</span><span class="nu0">1091566580</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0041c</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">3</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0040c</span><br /> <br /> &nbsp; &nbsp; <span class="sy0">-</span><span class="nu0">1091566564</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef00420</span><br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">4</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="nu12">0xbef0040c</span>
  </div>
</div> With the correct parentheses p2 works as intended, whilst p1 is producing garbage results. As the address of p1 gets incremented each time, the value being printed is just whatever garbage is left over in memory. Notice the address is actually incremented by 4 each time (in hexadecimal). This is because the address is being incremented by a 

**scaler**. This is a value that defines the size of memory allocated to the type being stored. As an int takes up 4 bytes, the address must be incremented by 4 to get to the next variable. If it was the address of a double being incremented, the address would be adjusted by 8. There are situations though where we need to increment the pointer address. Accessing the contents of an array is a standard use for this. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">double</span> double_arr<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span><span class="nu16">10.5</span><span class="sy0">,</span> <span class="nu16">11.5</span><span class="sy0">,</span> <span class="nu16">12.8</span><span class="sy0">,</span> <span class="nu16">13.2</span><span class="sy0">,</span> <span class="nu16">16.12</span><span class="br0">&#125;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <span class="kw4">double</span> <span class="sy0">*</span>dblp<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> dblp <span class="sy0">=</span> double_arr<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%ft%pn"</span><span class="sy0">,</span> <span class="sy0">*</span>dblp<span class="sy0">,</span> dblp<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> dblp<span class="sy0">++;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%ft%pn"</span><span class="sy0">,</span> <span class="sy0">*</span>dblp<span class="sy0">,</span> dblp<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%ft%pn"</span><span class="sy0">,</span> <span class="sy0">*</span><span class="br0">&#40;</span><span class="sy0">++</span>dblp<span class="br0">&#41;</span><span class="sy0">,</span> dblp<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%ft%pn"</span><span class="sy0">,</span> <span class="sy0">*</span><span class="br0">&#40;</span>dblp <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">,</span> dblp <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"%ft%pn"</span><span class="sy0">,</span> <span class="sy0">*</span><span class="br0">&#40;</span>dblp <span class="sy0">+</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">,</span> dblp <span class="sy0">+</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> <span class="nu16">10.500000</span> &nbsp; &nbsp; &nbsp; <span class="nu12">0xbea073e0</span><br /> <span class="nu16">11.500000</span> &nbsp; &nbsp; &nbsp; <span class="nu12">0xbea073e8</span><br /> <span class="nu16">12.800000</span> &nbsp; &nbsp; &nbsp; <span class="nu12">0xbea073f0</span><br /> <span class="nu16">13.200000</span> &nbsp; &nbsp; &nbsp; <span class="nu12">0xbea073f8</span><br /> <span class="nu16">16.120000</span> &nbsp; &nbsp; &nbsp; <span class="nu12">0xbea07400</span>
  </div>
</div> As the memory address holds a double, the address being incremented results in a jump of 8. It is possible in C to have 

**multiple pointers**, pointing to each other until eventually reaching a variable. This is known as multiple indirection. If you wish to create a pointer to a pointer, you must insert an additional * to the pointer name. <div class="codecolorer-container c railscasts" style="overflow:auto;white-space:nowrap;">
  <div class="c codecolorer">
    <span class="sy0">></span> <span class="kw4">int</span> value<span class="sy0">,</span> <span class="sy0">*</span>poi<span class="sy0">,</span> <span class="sy0">**</span>mpoi<span class="sy0">;</span><br /> <span class="sy0">></span> value <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span><br /> <span class="sy0">></span> poi <span class="sy0">=</span> <span class="sy0">&</span>value<span class="sy0">;</span><br /> <span class="sy0">></span> mpoi <span class="sy0">=</span> <span class="sy0">&</span>poi<span class="sy0">;</span><br /> <br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"value = %dn"</span><span class="sy0">,</span> value<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"**mpoi = %dn"</span><span class="sy0">,</span> <span class="sy0">**</span>mpoi<span class="br0">&#41;</span><span class="sy0">;</span><br /> <span class="sy0">></span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">"*mpoi = %pn"</span><span class="sy0">,</span> <span class="sy0">*</span>mpoi<span class="br0">&#41;</span><span class="sy0">;</span><br /> <br /> value <span class="sy0">=</span> <span class="nu0">10</span><br /> <span class="sy0">**</span>mpoi <span class="sy0">=</span> <span class="nu0">10</span><br /> <span class="sy0">*</span>mpoi <span class="sy0">=</span> <span class="nu12">0xbe8a83d4</span>
  </div>
</div> I&#8217;m using 

[Big Al&#8217;s C: Standard C][1] to learn C and write these posts.

 [1]: http://www.amazon.com/Big-Als-Standard-ebook/dp/B00A4JGE0M